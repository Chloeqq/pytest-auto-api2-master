{
  "uid": "1afb6d3ccfccb3bc",
  "name": "test_jkrxRule_settings[查询用药人校验包具体信息]",
  "fullName": "test_case.JkSettle.test_jkrxRule_settings.TestJkrxruleSettings#test_jkrxRule_settings",
  "historyId": "8b72bf337ccf876b5f5a140420b0886e",
  "time": {
    "start": 1658389343214,
    "stop": 1658389343277,
    "duration": 63
  },
  "description": "\n        :param :\n        :return:\n        ",
  "descriptionHtml": "<pre><code>    :param :\n    :return:\n</code></pre>\n",
  "status": "failed",
  "statusMessage": "AssertionError",
  "statusTrace": "self = <test_jkrxRule_settings.TestJkrxruleSettings object at 0x1054d6b30>\nin_data = {'assert': {'isMatchFever': {'AssertType': None, 'jsonpath': '$.isMatchFever', 'type': '==', 'value': 0}, 'status_code': 200}, 'current_request_set_cache': None, 'data': {'port': 'app', 'productCodes': 11692}, 'dependence_case': False, ...}\ncase_skip = None\n\n    @allure.story(\"用药人信息\")\n    @pytest.mark.parametrize('in_data', eval(re_data), ids=[i['detail'] for i in TestData])\n    def test_jkrxRule_settings(self, in_data, case_skip):\n        \"\"\"\n        :param :\n        :return:\n        \"\"\"\n        res = RequestControl().http_request(in_data)\n        TearDownHandler().teardown_handle(res)\n>       Assert(in_data['assert']).assert_equality(response_data=res['response_data'],\n                                                  sql_data=res['sql_data'], status_code=res['status_code'])\n\ntest_case/JkSettle/test_jkrxRule_settings.py:34: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <utils.assertUtils.assertControl.Assert object at 0x105b517b0>\nresponse_data = {'message': 'Cannot GET /v4/rxRule/setting?productCodes=11692&port=app', 'path': '/v4/rxRule/setting?productCodes=11692&port=app', 'success': False, 'timestamp': '2022-07-21T07:42:23.312Z'}\nsql_data = {'sql': None}, status_code = 404\n\n    def assert_equality(self, response_data: dict, sql_data: dict, status_code):\n        # 判断数据类型\n        if self._check_params(response_data, sql_data) is not False:\n            for key, values in self.assert_data.items():\n                if key == \"status_code\":\n>                   assert status_code == values\nE                   AssertionError\n\nutils/assertUtils/assertControl.py:122: AssertionError",
  "flaky": false,
  "newFailed": false,
  "newBroken": false,
  "newPassed": false,
  "retriesCount": 0,
  "retriesStatusChange": false,
  "beforeStages": [
    {
      "name": "_session_faker",
      "time": {
        "start": 1658389336677,
        "stop": 1658389336691,
        "duration": 14
      },
      "status": "passed",
      "steps": [],
      "attachments": [],
      "parameters": [],
      "stepsCount": 0,
      "attachmentsCount": 0,
      "shouldDisplayMessage": false,
      "hasContent": false
    },
    {
      "name": "get_x_jk_x",
      "time": {
        "start": 1658389336691,
        "stop": 1658389336695,
        "duration": 4
      },
      "status": "passed",
      "steps": [],
      "attachments": [],
      "parameters": [],
      "stepsCount": 0,
      "attachmentsCount": 0,
      "shouldDisplayMessage": false,
      "hasContent": false
    },
    {
      "name": "work_login_init",
      "time": {
        "start": 1658389336695,
        "stop": 1658389336832,
        "duration": 137
      },
      "status": "passed",
      "steps": [],
      "attachments": [],
      "parameters": [],
      "stepsCount": 0,
      "attachmentsCount": 0,
      "shouldDisplayMessage": false,
      "hasContent": false
    },
    {
      "name": "write_case_process",
      "time": {
        "start": 1658389336832,
        "stop": 1658389336889,
        "duration": 57
      },
      "status": "passed",
      "steps": [],
      "attachments": [],
      "parameters": [],
      "stepsCount": 0,
      "attachmentsCount": 0,
      "shouldDisplayMessage": false,
      "hasContent": false
    },
    {
      "name": "case_skip",
      "time": {
        "start": 1658389343213,
        "stop": 1658389343213,
        "duration": 0
      },
      "status": "passed",
      "steps": [],
      "attachments": [],
      "parameters": [],
      "stepsCount": 0,
      "attachmentsCount": 0,
      "shouldDisplayMessage": false,
      "hasContent": false
    }
  ],
  "testStage": {
    "description": "\n        :param :\n        :return:\n        ",
    "status": "failed",
    "statusMessage": "AssertionError",
    "statusTrace": "self = <test_jkrxRule_settings.TestJkrxruleSettings object at 0x1054d6b30>\nin_data = {'assert': {'isMatchFever': {'AssertType': None, 'jsonpath': '$.isMatchFever', 'type': '==', 'value': 0}, 'status_code': 200}, 'current_request_set_cache': None, 'data': {'port': 'app', 'productCodes': 11692}, 'dependence_case': False, ...}\ncase_skip = None\n\n    @allure.story(\"用药人信息\")\n    @pytest.mark.parametrize('in_data', eval(re_data), ids=[i['detail'] for i in TestData])\n    def test_jkrxRule_settings(self, in_data, case_skip):\n        \"\"\"\n        :param :\n        :return:\n        \"\"\"\n        res = RequestControl().http_request(in_data)\n        TearDownHandler().teardown_handle(res)\n>       Assert(in_data['assert']).assert_equality(response_data=res['response_data'],\n                                                  sql_data=res['sql_data'], status_code=res['status_code'])\n\ntest_case/JkSettle/test_jkrxRule_settings.py:34: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <utils.assertUtils.assertControl.Assert object at 0x105b517b0>\nresponse_data = {'message': 'Cannot GET /v4/rxRule/setting?productCodes=11692&port=app', 'path': '/v4/rxRule/setting?productCodes=11692&port=app', 'success': False, 'timestamp': '2022-07-21T07:42:23.312Z'}\nsql_data = {'sql': None}, status_code = 404\n\n    def assert_equality(self, response_data: dict, sql_data: dict, status_code):\n        # 判断数据类型\n        if self._check_params(response_data, sql_data) is not False:\n            for key, values in self.assert_data.items():\n                if key == \"status_code\":\n>                   assert status_code == values\nE                   AssertionError\n\nutils/assertUtils/assertControl.py:122: AssertionError",
    "steps": [
      {
        "name": "请求URL: http://fe-acgi-v2.tst.jianke.com/v4/rxRule/setting",
        "time": {
          "start": 1658389343268,
          "stop": 1658389343268,
          "duration": 0
        },
        "status": "passed",
        "steps": [],
        "attachments": [],
        "parameters": [],
        "stepsCount": 0,
        "attachmentsCount": 0,
        "shouldDisplayMessage": false,
        "hasContent": false
      },
      {
        "name": "请求方式: GET",
        "time": {
          "start": 1658389343269,
          "stop": 1658389343269,
          "duration": 0
        },
        "status": "passed",
        "steps": [],
        "attachments": [],
        "parameters": [],
        "stepsCount": 0,
        "attachmentsCount": 0,
        "shouldDisplayMessage": false,
        "hasContent": false
      },
      {
        "name": "请求头: ",
        "time": {
          "start": 1658389343269,
          "stop": 1658389343269,
          "duration": 0
        },
        "status": "passed",
        "steps": [],
        "attachments": [
          {
            "uid": "ebcc752a83bd7626",
            "name": "请求头: ",
            "source": "ebcc752a83bd7626.json",
            "type": "application/json",
            "size": 1104
          }
        ],
        "parameters": [],
        "stepsCount": 0,
        "attachmentsCount": 1,
        "shouldDisplayMessage": false,
        "hasContent": true
      },
      {
        "name": "请求数据: ",
        "time": {
          "start": 1658389343269,
          "stop": 1658389343270,
          "duration": 1
        },
        "status": "passed",
        "steps": [],
        "attachments": [
          {
            "uid": "2d03cee0d1f8ae91",
            "name": "请求数据: ",
            "source": "2d03cee0d1f8ae91.json",
            "type": "application/json",
            "size": 40
          }
        ],
        "parameters": [],
        "stepsCount": 0,
        "attachmentsCount": 1,
        "shouldDisplayMessage": false,
        "hasContent": true
      },
      {
        "name": "依赖数据: ",
        "time": {
          "start": 1658389343270,
          "stop": 1658389343270,
          "duration": 0
        },
        "status": "passed",
        "steps": [],
        "attachments": [
          {
            "uid": "4972e388ab14b828",
            "name": "依赖数据: ",
            "source": "4972e388ab14b828.json",
            "type": "application/json",
            "size": 32
          }
        ],
        "parameters": [],
        "stepsCount": 0,
        "attachmentsCount": 1,
        "shouldDisplayMessage": false,
        "hasContent": true
      },
      {
        "name": "预期数据: ",
        "time": {
          "start": 1658389343270,
          "stop": 1658389343275,
          "duration": 5
        },
        "status": "passed",
        "steps": [],
        "attachments": [
          {
            "uid": "21467f34131147a7",
            "name": "预期数据: ",
            "source": "21467f34131147a7.json",
            "type": "application/json",
            "size": 116
          }
        ],
        "parameters": [],
        "stepsCount": 0,
        "attachmentsCount": 1,
        "shouldDisplayMessage": false,
        "hasContent": true
      },
      {
        "name": "响应耗时(s): 22.822",
        "time": {
          "start": 1658389343275,
          "stop": 1658389343275,
          "duration": 0
        },
        "status": "passed",
        "steps": [],
        "attachments": [],
        "parameters": [],
        "stepsCount": 0,
        "attachmentsCount": 0,
        "shouldDisplayMessage": false,
        "hasContent": false
      },
      {
        "name": "响应结果: ",
        "time": {
          "start": 1658389343275,
          "stop": 1658389343276,
          "duration": 1
        },
        "status": "passed",
        "steps": [],
        "attachments": [
          {
            "uid": "19037bbd64750aee",
            "name": "响应结果: ",
            "source": "19037bbd64750aee.json",
            "type": "application/json",
            "size": 191
          }
        ],
        "parameters": [],
        "stepsCount": 0,
        "attachmentsCount": 1,
        "shouldDisplayMessage": false,
        "hasContent": true
      }
    ],
    "attachments": [
      {
        "uid": "799e7bf83bfc6e25",
        "name": "log",
        "source": "799e7bf83bfc6e25.txt",
        "type": "text/plain",
        "size": 1927
      }
    ],
    "parameters": [],
    "stepsCount": 8,
    "attachmentsCount": 6,
    "shouldDisplayMessage": true,
    "hasContent": true
  },
  "afterStages": [],
  "labels": [
    {
      "name": "epic",
      "value": "开发平台接口"
    },
    {
      "name": "feature",
      "value": "结算模块"
    },
    {
      "name": "story",
      "value": "用药人信息"
    },
    {
      "name": "parentSuite",
      "value": "test_case.JkSettle"
    },
    {
      "name": "suite",
      "value": "test_jkrxRule_settings"
    },
    {
      "name": "subSuite",
      "value": "TestJkrxruleSettings"
    },
    {
      "name": "host",
      "value": "Bettys-MacBook-Pro.local"
    },
    {
      "name": "thread",
      "value": "36618-MainThread"
    },
    {
      "name": "framework",
      "value": "pytest"
    },
    {
      "name": "language",
      "value": "cpython3"
    },
    {
      "name": "package",
      "value": "test_case.JkSettle.test_jkrxRule_settings"
    },
    {
      "name": "resultFormat",
      "value": "allure2"
    }
  ],
  "parameters": [
    {
      "name": "in_data",
      "value": "{'method': 'GET', 'is_run': None, 'url': 'http://fe-acgi-v2.tst.jianke.com/v4/rxRule/setting', 'detail': '查询用药人校验包具体信息', 'headers': {'Content-Type': 'application/json', 'authorization': '$cache{token}', 'platform': 'app', 'x-jk-udid': 'BB1A9D8E-F469-4E1A-88E4-E2BA4B570038', 'versionname': '6.4.1', 'x-jk-x': '$cache{x_jk_x}'}, 'requestType': 'PARAMS', 'data': {'productCodes': 11692, 'port': 'app'}, 'dependence_case': False, 'dependence_case_data': {'dependence_case_data': None}, 'current_request_set_cache': None, 'sql': None, 'assert': {'status_code': 200, 'isMatchFever': {'jsonpath': '$.isMatchFever', 'type': '==', 'value': 0, 'AssertType': None}}, 'setup_sql': None, 'teardown': None, 'teardown_sql': None}"
    }
  ],
  "links": [],
  "hidden": false,
  "retry": false,
  "extra": {
    "severity": "normal",
    "retries": [],
    "categories": [
      {
        "name": "Product defects",
        "matchedStatuses": [],
        "flaky": false
      }
    ],
    "tags": []
  },
  "source": "1afb6d3ccfccb3bc.json",
  "parameterValues": [
    "{'method': 'GET', 'is_run': None, 'url': 'http://fe-acgi-v2.tst.jianke.com/v4/rxRule/setting', 'detail': '查询用药人校验包具体信息', 'headers': {'Content-Type': 'application/json', 'authorization': '$cache{token}', 'platform': 'app', 'x-jk-udid': 'BB1A9D8E-F469-4E1A-88E4-E2BA4B570038', 'versionname': '6.4.1', 'x-jk-x': '$cache{x_jk_x}'}, 'requestType': 'PARAMS', 'data': {'productCodes': 11692, 'port': 'app'}, 'dependence_case': False, 'dependence_case_data': {'dependence_case_data': None}, 'current_request_set_cache': None, 'sql': None, 'assert': {'status_code': 200, 'isMatchFever': {'jsonpath': '$.isMatchFever', 'type': '==', 'value': 0, 'AssertType': None}}, 'setup_sql': None, 'teardown': None, 'teardown_sql': None}"
  ]
}